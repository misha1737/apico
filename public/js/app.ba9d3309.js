(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},a={app:0},n=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0ebf":function(e,t,r){e.exports=r.p+"img/heart-outline.3713f0bd.svg"},1297:function(e,t,r){"use strict";r("b6db")},"21bb":function(e,t,r){"use strict";r("2d73")},"2d73":function(e,t,r){},"36be":function(e,t,r){e.exports=r.p+"img/menu.1d179c7f.svg"},"47c5":function(e,t,r){e.exports=r.p+"img/grid.d5c2c06f.svg"},"51f2":function(e,t,r){e.exports=r.p+"img/search.cb79d0e4.svg"},5452:function(e,t,r){"use strict";r("d100")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header",{attrs:{user:e.user}}),r("router-view")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header",class:{dark:e.user}},[s("div",{staticClass:"content"},[s("router-link",{attrs:{to:"/"}},[e.user?s("img",{attrs:{alt:"logo",src:r("ea65")}}):s("img",{attrs:{alt:"logo",src:r("9b19")}})]),s("div",{staticClass:"header__buttons",class:{active:e.openMenu}},[s("router-link",{staticClass:"sell btn",attrs:{to:"/"}},[e._v("Sell")]),e.user?s("router-link",{staticClass:"logIn",attrs:{to:"/addProduct"}},[e._v("add")]):e._e(),e.user?s("div",{staticClass:"logIn",on:{click:function(t){return e.logout()}}},[e._v("LogOut")]):s("router-link",{staticClass:"logIn",attrs:{to:"/authentication"}},[e._v("LogIn")]),e.avatar?s("img",{staticClass:"avatar",attrs:{src:r("bc28"),alt:""}}):e._e(),e.user?s("img",{attrs:{src:r("e535"),alt:""}}):s("img",{attrs:{src:r("0ebf"),alt:""}})],1),s("div",{staticClass:"hamburger",on:{click:function(t){e.openMenu=!e.openMenu}}},[s("img",{attrs:{src:r("36be"),alt:""}})])],1),s("div",{staticClass:"min-content"},[e.user&&e.search?s("div",{staticClass:"search"},[e._m(0),e._m(1),s("div",{staticClass:"searchButton"},[e._v("Search")])]):e._e()])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"byName"},[s("img",{staticClass:"icon",attrs:{alt:"",src:r("51f2")}}),s("input",{attrs:{type:"text",placeholder:"Search products by name"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"byLocation"},[s("img",{staticClass:"icon",attrs:{alt:"",src:r("a1fb")}}),s("input",{attrs:{type:"text",placeholder:"Location"}})])}],c=(r("ac1f"),r("841c"),{name:"Header",data:function(){return{openMenu:!1}},props:{user:Boolean},methods:{logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/authentication")}},computed:{search:function(){return this.$store.getters.search},avatar:function(){return this.$store.getters.avatar}},watch:{$route:function(e,t){this.openMenu=!1}}}),u=c,l=(r("5452"),r("2877")),d=Object(l["a"])(u,i,o,!1,null,null,null),p=d.exports,m={components:{Header:p},computed:{user:function(){return this.$store.getters.checkUser}}},f=m,v=(r("5c0b"),Object(l["a"])(f,a,n,!1,null,null,null)),g=v.exports,h=r("8c4f"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"min-content"},[r("FilterPanel"),r("div",{staticClass:"catalog"},e._l(e.products,(function(e){return r("Tile",{key:e.id,attrs:{product:e}})})),1)],1)},b=[],x=(r("4de4"),r("96cf"),r("1da1")),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"filterPanel"},[s("div",{staticClass:"select",on:{click:function(t){e.isSelectOpen=!e.isSelectOpen}}},[s("img",{staticClass:"grid",attrs:{src:r("47c5"),alt:""}}),s("div",{staticClass:"selected"},[e._v(e._s(e.selected))]),s("img",{staticClass:"chevron",class:{active:e.isSelectOpen},attrs:{src:r("ac6d"),alt:""}}),e.isSelectOpen?s("ul",{staticClass:"list"},e._l(e.categories,(function(t){return s("li",{key:t,on:{click:function(r){return e.select(t)}}},[s("span",[e._v(e._s(t))])])})),0):e._e()]),s("div",{staticClass:"priceFilter"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.minPrice,expression:"minPrice",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Price from (USD)"},domProps:{value:e.minPrice},on:{input:function(t){t.target.composing||(e.minPrice=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),s("img",{staticClass:"line",attrs:{src:r("5fed"),alt:""}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.maxPrice,expression:"maxPrice",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Price to (USD)"},domProps:{value:e.maxPrice},on:{input:function(t){t.target.composing||(e.maxPrice=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])},_=[],y={name:"FilterPanel",data:function(){return{categories:["category1","category2","category3","category4","category5"],selected:"Choose Category",isSelectOpen:!1}},methods:{select:function(e){this.selected=e}},props:{},computed:{minPrice:{get:function(){return this.$store.getters.minPrice},set:function(e){this.$store.commit("setMinPrice",e)}},maxPrice:{get:function(){return this.$store.getters.maxPrice},set:function(e){this.$store.commit("setMaxPrice",e)}}}},k=y,C=(r("1297"),Object(l["a"])(k,P,_,!1,null,null,null)),$=C.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tile"},[s("div",{staticClass:"photoBlock"},[e.product.imageUrl?s("img",{staticClass:"productPhoto",attrs:{src:e.product.imageUrl,alt:""}}):e._e(),s("img",{attrs:{src:r("95a7"),alt:"product"}})]),e._m(0),s("h3",{staticClass:"title"},[e._v(e._s(e.product.title))]),s("p",{staticClass:"price"},[e._v("$"+e._s(e.product.price))])])},O=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"like"},[s("img",{attrs:{src:r("c8e1"),alt:"icon"}})])}],U={name:"Tile",data:function(){return{}},methods:{},props:{product:Object},computed:{}},j=U,L=Object(l["a"])(j,E,O,!1,null,null,null),A=L.exports,N={name:"Home",components:{FilterPanel:$,Tile:A},created:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getProducts");case 2:e.$store.commit("searchOpen",!0);case 3:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$store.commit("searchOpen",!1)},computed:{loading:function(){return this.$store.getters.loading},minPrice:function(){return this.$store.getters.minPrice},maxPrice:function(){return this.$store.getters.maxPrice},products:function(){var e=this,t=this.$store.getters.products;return t.filter((function(t){return e.minPrice<=t.price&&t.price<=e.maxPrice}))}}},R=N,S=(r("21bb"),Object(l["a"])(R,w,b,!1,null,null,null)),I=S.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.authoization?r("Authorization",{on:{register:function(t){return e.changeAuthBlock(!1)}}}):r("Registration",{on:{auth:function(t){return e.changeAuthBlock(!0)}}})],1)},V=[],D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"form"},[s("h3",[e._v("Login")]),s("label",{attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"Example@gmail.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{attrs:{for:"password"}},[e._v("Password")]),s("div",{staticClass:"password"},["checkbox"===(e.passwordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Enter password",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var r=e.password,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);s.checked?i<0&&(e.password=r.concat([n])):i>-1&&(e.password=r.slice(0,i).concat(r.slice(i+1)))}else e.password=a}}}):"radio"===(e.passwordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Enter password",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Enter password",type:e.passwordView?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("span",{on:{click:function(t){e.passwordView=!e.passwordView}}},[s("img",{staticClass:"eye",attrs:{alt:"eye",src:r("83a4")}})])]),s("p",{staticClass:"forgotPassword"},[e._v("Don’t remember password?")]),e.error?s("p",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),s("div",{staticClass:"btn buton",on:{click:function(t){return e.login()}}},[e._v("Continue")])]),s("div",{staticClass:"blockAuth"},[s("p",[e._v(" I have no account, "),s("span",{staticClass:"link",on:{click:function(t){return e.$emit("register")}}},[e._v("REGISTER NOW")])])])])},M=[],T={name:"Registration",data:function(){return{email:"",password:"",passwordView:!1}},methods:{login:function(){var e=this,t={email:this.email,password:this.password};this.$store.dispatch("loginUser",t).then((function(){e.$router.push("/")}))}},computed:{loading:function(){return this.$store.getters.loading},error:function(){return this.$store.getters.error}}},B=T,z=Object(l["a"])(B,D,M,!1,null,null,null),H=z.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"form"},[s("h3",[e._v("Register")]),s("label",{attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"Example@gmail.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{attrs:{for:"name"}},[e._v("Full name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text",placeholder:"Tony Stark"},domProps:{value:e.name},on:{change:function(t){e.userError=null},input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("label",{attrs:{for:"password"}},[e._v("Password")]),s("div",{staticClass:"password"},["checkbox"===(e.passwordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:[function(t){var r=e.password,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);s.checked?i<0&&(e.password=r.concat([n])):i>-1&&(e.password=r.slice(0,i).concat(r.slice(i+1)))}else e.password=a},function(t){e.userError=null}]}}):"radio"===(e.passwordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:[function(t){e.password=null},function(t){e.userError=null}]}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:e.passwordView?"text":"password"},domProps:{value:e.password},on:{change:function(t){e.userError=null},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("span",[s("img",{staticClass:"eye",attrs:{alt:"eye",src:r("83a4")},on:{click:function(t){e.passwordView=!e.passwordView}}})])]),s("label",{attrs:{for:"confirmPassword"}},[e._v("confirm password")]),s("div",{staticClass:"password"},["checkbox"===(e.cPasswordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{id:"confirmPassword",type:"checkbox"},domProps:{checked:Array.isArray(e.confirmPassword)?e._i(e.confirmPassword,null)>-1:e.confirmPassword},on:{change:function(t){var r=e.confirmPassword,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);s.checked?i<0&&(e.confirmPassword=r.concat([n])):i>-1&&(e.confirmPassword=r.slice(0,i).concat(r.slice(i+1)))}else e.confirmPassword=a}}}):"radio"===(e.cPasswordView?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{id:"confirmPassword",type:"radio"},domProps:{checked:e._q(e.confirmPassword,null)},on:{change:function(t){e.confirmPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{id:"confirmPassword",type:e.cPasswordView?"text":"password"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),s("span",{on:{click:function(t){e.cPasswordView=!e.cPasswordView}}},[s("img",{staticClass:"eye",attrs:{alt:"eye",src:r("83a4")}})])]),e.userError?s("p",{staticClass:"error"},[e._v(e._s(e.userError))]):e._e(),e.error?s("p",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),s("div",{staticClass:"btn buton",on:{click:function(t){return e.register()}}},[e._v("Continue")])]),s("div",{staticClass:"blockAuth"},[s("p",[e._v(" I already have an account, "),s("span",{staticClass:"link",on:{click:function(t){return e.$emit("auth")}}},[e._v("LOG IN")])])])])},q=[],G=(r("b0c0"),{name:"Registration",data:function(){return{userError:null,email:"",password:"",name:"",confirmPassword:"",cPasswordView:!1,passwordView:!1}},methods:{register:function(){if(this.password==this.confirmPassword){var e={email:this.email,password:this.password,userName:this.name};this.$store.dispatch("registerUser",e)}else this.userError="password and confirm password not matched"}},computed:{loading:function(){return this.$store.getters.loading},error:function(){return this.$store.getters.error}}}),J=G,K=Object(l["a"])(J,W,q,!1,null,null,null),Q=K.exports,X={data:function(){return{authoization:!0}},components:{Authorization:H,Registration:Q},methods:{changeAuthBlock:function(e){this.authoization=e}},created:function(){}},Y=X,Z=(r("e624"),Object(l["a"])(Y,F,V,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"form big-form"},[s("div",{staticClass:"formContent"},[s("h3",[e._v("Add product")]),s("div",[s("label",{attrs:{for:"title"}},[e._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{id:"title",type:"text",placeholder:"For example: Iron man suit"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),s("label",{attrs:{for:"location"}},[e._v("Location")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],attrs:{id:"location",type:"text",placeholder:"For example: Los Angeles, CA"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value)}}}),s("label",{attrs:{for:"description"}},[e._v("Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{id:"description",type:"text",placeholder:"description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),s("div",[s("label",{attrs:{for:"photo"}},[e._v("Photo")]),s("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputFile",staticClass:"inputFile",attrs:{id:"photo",type:"file",accept:"image/"},on:{change:e.previewImage}}),s("div",{staticClass:"addPicture"},[e.previewUrl?s("img",{staticClass:"preview",attrs:{src:e.previewUrl}}):e._e(),s("div",{staticClass:"iconBox",on:{click:function(t){return e.OpenFileSelect()}}},[s("img",{attrs:{src:r("8a37")}})])])]),s("label",{attrs:{for:"price"}},[e._v("Price")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price,expression:"price",modifiers:{number:!0}}],attrs:{id:"price",type:"text",placeholder:"Price"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),s("span",[e._v(e._s(e.error))]),s("div",{staticClass:"btn submit",on:{click:function(t){return e.submit()}}},[e._v("SUBMIT")])])])])])},re=[],se=(r("a4d3"),r("e01a"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("59ca")),ae=r.n(se),ne={name:"Home",data:function(){return{title:"",location:"",description:"",price:0,inputFile:this.$refs.inputFile,imageData:"",previewUrl:null}},methods:{submit:function(){var e={title:this.title,description:this.description,imageData:this.imageData,price:this.price,location:this.location};this.$store.dispatch("saveProduct",e)},OpenFileSelect:function(){this.inputFile.click()},previewImage:function(e){this.imageData=e.target.files[0],this.previewUrl=URL.createObjectURL(this.imageData),this.uploadImg()},uploadImg:function(){}},mounted:function(){this.inputFile=this.$refs.inputFile},computed:{loading:function(){return this.$store.getters.loading},error:function(){return this.$store.getters.error}},created:function(){this.$store.commit("avatar",!0)},beforeDestroy:function(){this.$store.commit("avatar",!1)}},ie=ne,oe=(r("d197"),Object(l["a"])(ie,te,re,!1,null,null,null)),ce=oe.exports;s["a"].use(h["a"]);var ue=[{path:"/",name:"Home",component:I},{path:"/authentication",name:"Authentication",component:ee},{path:"/addProduct",name:"AddProduct",component:ce}],le=new h["a"]({mode:"history",base:"/",routes:ue}),de=le,pe=r("2f62"),me=(r("4160"),r("b680"),r("b64b"),r("159b"),r("d4ec")),fe=function e(t,r,s,a,n,i){Object(me["a"])(this,e),this.title=t,this.description=r,this.imageUrl=s,this.price=a,this.location=n,this.id=i},ve={state:{selectedPost:{},timeInLastPost:null,products:[],uploadImgValue:null,minPrice:0,maxPrice:0},mutations:{setProducts:function(e,t){e.products=t},setMinPrice:function(e,t){e.minPrice=t},setMaxPrice:function(e,t){e.maxPrice=t},setPricesForFilter:function(e,t){e.minPrice=t.min,e.maxPrice=t.max}},actions:{getProducts:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var r,s,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("clearError"),r("setLoading",!0),t.prev=3,t.next=6,ae.a.database().ref("products").once("value");case 6:s=t.sent,s=s.val(),a=[],n=-1,i=0,Object.keys(s).forEach((function(e){var t=s[e];a.push(new fe(t.title,t.description,t.imageUrl,t.price,t.location,e)),(t&&n>t.price||-1==n)&&(n=t.price),t&&i<t.price&&(i=t.price)})),r("setPricesForFilter",{min:n,max:i}),r("setProducts",a),r("setLoading",!1),t.next=22;break;case 17:throw t.prev=17,t.t0=t["catch"](3),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 22:case"end":return t.stop()}}),t,null,[[3,17]])})))()},saveProduct:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function r(){var s,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.commit,s("clearError"),s("setLoading",!0),a=+(+t.price).toFixed(2),!isNaN(a)){r.next=7;break}return s("setError","price error"),r.abrupt("return");case 7:r.prev=7,n=ae.a.storage().ref("images/".concat(Date.now(),"/")).put(t.imageData),n.on("state_changed",(function(e){}),(function(e){console.log(e.message)}),(function(){n.snapshot.ref.getDownloadURL().then((function(e){var r=new fe(t.title,t.description,e,a,t.location,null);ae.a.database().ref("products").push(r),console.log("ok")}))})),s("setLoading",!1),r.next=18;break;case 13:throw r.prev=13,r.t0=r["catch"](7),s("setLoading",!1),s("setError",r.t0.message),r.t0;case 18:case"end":return r.stop()}}),r,null,[[7,13]])})))()},uploadImg:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit,e.getters,e.dispatch,console.log("startUpload"),t.prev=2,t.next=8;break;case 5:throw t.prev=5,t.t0=t["catch"](2),t.t0;case 8:case"end":return t.stop()}}),t,null,[[2,5]])})))()}},getters:{products:function(e){return e.products},minPrice:function(e){return e.minPrice},maxPrice:function(e){return e.maxPrice}}},ge=function e(t,r){Object(me["a"])(this,e),this.id=t,this.name=r},he={state:{user:null},mutations:{setUser:function(e,t){e.user=t}},actions:{registerUser:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function r(){var s,a,n,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,a=t.email,n=t.password,i=t.userName,s("clearError"),s("setLoading",!0),r.prev=4,r.next=7,ae.a.auth().createUserWithEmailAndPassword(a,n);case 7:return o=r.sent,r.next=10,ae.a.database().ref("users/"+o.user.uid+"/name").set(i);case 10:s("setUser",new ge(o.user.uid,i)),s("setLoading",!1),r.next=19;break;case 14:throw r.prev=14,r.t0=r["catch"](4),s("setLoading",!1),s("setError",r.t0.message),r.t0;case 19:case"end":return r.stop()}}),r,null,[[4,14]])})))()},loginUser:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function r(){var s,a,n,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,a=t.email,n=t.password,s("clearError"),s("setLoading",!0),r.prev=4,r.next=7,ae.a.auth().signInWithEmailAndPassword(a,n);case 7:return i=r.sent,r.next=10,ae.a.database().ref("users/"+i.user.uid).once("value");case 10:return r.next=12,r.sent.val();case 12:o=r.sent,s("setUser",new ge(i.user.uid,o.name)),r.next=21;break;case 16:throw r.prev=16,r.t0=r["catch"](4),s("setLoading",!1),s("setError",r.t0.message),r.t0;case 21:case"end":return r.stop()}}),r,null,[[4,16]])})))()},loggedUser:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.commit,s("clearError"),s("setLoading",!0),r.prev=3,!t){r.next=11;break}return r.next=7,ae.a.database().ref("users/"+t.uid).once("value");case 7:return r.next=9,r.sent.val();case 9:a=r.sent,a&&s("setUser",new ge(t.uid,a.name));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r["catch"](3),s("setLoading",!1),s("setError",r.t0.message),r.t0;case 18:case"end":return r.stop()}}),r,null,[[3,13]])})))()},logoutUser:function(e){var t=e.commit;ae.a.auth().signOut(),t("setUser",null)}},getters:{user:function(e){return e.user},checkUser:function(e){return null!==e.user}}},we={state:{loading:!1,error:null,search:!1,avatar:!1},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null},searchOpen:function(e,t){e.search=t},avatar:function(e,t){e.avatar=t}},actions:{setLoading:function(e,t){var r=e.commit;r("setLoading",t)},setError:function(e,t){var r=e.commit;r("setError",t)},clearError:function(e){var t=e.commit;t("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error},search:function(e){return e.search},avatar:function(e){return e.avatar}}};s["a"].use(pe["a"]);var be=new pe["a"].Store({state:{},mutations:{},actions:{},modules:{product:ve,user:he,common:we}});r("ea7b"),r("66ce"),r("741f"),r("588e");s["a"].config.productionTip=!1,new s["a"]({router:de,store:be,render:function(e){return e(g)},created:function(){var e=this,t={apiKey:"AIzaSyDoLsrChGA9gfixKQQXWIy2RbwjF7Lh3i8",authDomain:"apico-b2bbf.firebaseapp.com",databaseURL:"https://apico-b2bbf-default-rtdb.firebaseio.com",projectId:"apico-b2bbf",storageBucket:"apico-b2bbf.appspot.com",messagingSenderId:"475786134248",appId:"1:475786134248:web:b0ab07fc56e14abb5fbf5d"};ae.a.initializeApp(t),ae.a.auth().onAuthStateChanged((function(t){t&&e.$store.dispatch("loggedUser",t)}))}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("c58b")},"5fed":function(e,t,r){e.exports=r.p+"img/line.b94578f2.svg"},"83a4":function(e,t,r){e.exports=r.p+"img/eye.c751b707.svg"},"8a37":function(e,t,r){e.exports=r.p+"img/plus.f79ea3e7.svg"},"95a7":function(e,t,r){e.exports=r.p+"img/mask.70ef45b9.jpg"},"9b19":function(e,t,r){e.exports=r.p+"img/logo.63543f27.svg"},"9f34":function(e,t,r){},a1fb:function(e,t,r){e.exports=r.p+"img/location.ce24e919.svg"},ac6d:function(e,t,r){e.exports=r.p+"img/chevron.30f6066b.svg"},b6db:function(e,t,r){},b903:function(e,t,r){},bc28:function(e,t,r){e.exports=r.p+"img/avatar.f146bdc5.svg"},c58b:function(e,t,r){},c8e1:function(e,t,r){e.exports=r.p+"img/like.e8eac309.svg"},d100:function(e,t,r){},d197:function(e,t,r){"use strict";r("b903")},e535:function(e,t,r){e.exports=r.p+"img/heart-light.32835b07.svg"},e624:function(e,t,r){"use strict";r("9f34")},ea65:function(e,t,r){e.exports=r.p+"img/logo-light.6a97d997.svg"}});
//# sourceMappingURL=app.ba9d3309.js.map